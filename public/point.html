<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í¬ì¸íŠ¸ ì•ˆë‚´</title>

<style>
body{
  margin:0;
  background:#111;
  color:white;
  font-family:Arial;
}

.wrap{
  max-width:420px;
  margin:auto;
  padding:20px;
}

.card{
  background:#1a1a1a;
  padding:18px;
  border-radius:14px;
  margin-bottom:14px;
}

h2{
  margin-top:0;
}

.point{
  font-size:22px;
  font-weight:bold;
  color:#ffd56b;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#ffd56b;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="wrap">

<div class="card">
<h2>ğŸ ë‚´ í¬ì¸íŠ¸</h2>
<div id="userInfo">ë¡œê·¸ì¸ í•„ìš”</div>
<div id="pointBox" class="point">0ì </div>
</div>

<div class="card">
<h2>ğŸ“œ ì•±í…Œí¬ ê·œì¹™</h2>

<p>â€¢ ì¶œì„ ì²´í¬: +10ì </p>
<p>â€¢ ì»¨í…ì¸  ì´ìš©: +1ì </p>
<p>â€¢ ì¹œêµ¬ ì´ˆëŒ€: ì–‘ìª½ +100ì </p>

<br>

<p>ğŸ’° 1ì  = 1ì›</p>
<p>ğŸ’³ 5,000ì ë¶€í„° ì¶œê¸ˆ ê°€ëŠ¥</p>
</div>

<button onclick="location.href='/'">
ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
</button>

</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxV49VtrO-fV68nmPLsZFYZnDp6F8OwDFGaOe3Kj_Syi6LW7znJ5dHlHx5ZgK3uNlClZw/exec";

async function loadPoint(){
  const phone = localStorage.getItem("phone");
  const name = localStorage.getItem("name");

  if(!phone){
    document.getElementById("userInfo").textContent = "ë¡œê·¸ì¸ í•„ìš”";
    return;
  }

  const res = await fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({
      action:"getUser",
      phone
    })
  }).then(r=>r.json());

  if(res.status === "ok"){
    document.getElementById("userInfo").textContent =
      `${res.name}ë‹˜`;
    document.getElementById("pointBox").textContent =
      res.points.toLocaleString() + "ì ";
  }
}

loadPoint();
</script>

</body>
</html>
